<!DOCTYPE html>
<html lang="en">
<head>
    <title>Widgets</title>
    <script src="./lib/jquery/jquery-3.4.1.js"></script>
    <script src="./lib/jquery-ui-1.12.1/jquery-ui.js"></script>
    <script>
        $(document).ready(function () {
          //on charge le widget en plaçant la défintion dans une fonction invoquable immediatement
          //avec $ pour signaler que c'est jsquery qui s'en charge et par une autre librairie js qui utiliserait également $
          //cela évite les conflits
          //'loony.fancyButton' sera le nom du widget
            (function ($) {
              //indiquer $.widget indique que le bouton hérite
              //de widget de base définit dans jquery ui
                $.widget('loony.fancyButton', {
                  //on definit des propriétés pour le boutons widget
                  //par "options" , ici les propriétés css et text
                    options: {
                        'css': {
                            'display': 'inline-block',
                            'height': '34px',
                            'width': '150px',
                            'vertical-align': 'middle',
                            'text-align': 'center',
                            'font-family': 'sans-serif',
                            'background-color': 'chocolate',
                            'border': 'solid 1px chocolate',
                            'opacity': '0.7',
                            'color': 'antiquewhite',
                            'cursor': 'pointer',
                            'margin': '2px 0px',
                            'line-height': '34px'
                        },
                        'text': 'Chaud boulette'
                    },


                    //cette propriété est le constructeur du widget
                    _create: function() {

                      //this reference un object et pas un element
                      // _button est une variable private
                        this._button = $('<div></div>');
                        // l'element sur lequel le widget est appliqué
                        //est dispo dans le contexte de this.element
                        $(this.element).append(this._button);
                        //on appelle une fonction private pour mettre à jour le bouton
                        this._update();
                    },
                    //cette fonction, va setter le css et le text du bouton
                    _update: function() {
                        this._button.css(this.options.css);
                        this._button.text(this.options.text);
                    }
                });
            } (jQuery));

            $('body').fancyButton();
        });
    </script>
    <style>

    </style>
</head>
<body>
</body>
</html>
